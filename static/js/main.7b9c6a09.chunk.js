(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{18:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);var c=i(1),s=i.n(c),a=i(6),n=i.n(a),r=(i(18),i(3)),o=i.p+"static/media/logo.0444b39a.png",l=i.p+"static/media/ball-1.49e2fb42.png",j=i(0),b=function(e){var t=e.burger,i=e.setBurger;return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("div",{className:"header-logo_ball",children:Object(j.jsx)("img",{src:l,alt:"ball"})}),Object(j.jsx)("div",{className:"header-logo__pokeman",children:Object(j.jsx)("img",{src:o,alt:"pokemon"})}),Object(j.jsx)("div",{className:"burger-menu",onClick:function(){i(!t)},children:Object(j.jsx)("span",{})})]})},d=i.p+"static/media/Heart1.c0316ea0.png",u=function(e){var t=e.setMobile,i=e.setBurger,c=e.setFilter,a=e.setFavoritesVisible,n=e.burger,o=e.itemClass,l=e.itemAbility,b=s.a.useState(!1),u=Object(r.a)(b,2),m=u[0],h=u[1],p=s.a.useState(!1),f=Object(r.a)(p,2),O=f[0],v=f[1];return Object(j.jsxs)("div",{className:n?"categories active":"categories",children:[Object(j.jsxs)("div",{className:"categories-favorites__wrapper",onClick:function(){a(!0),c("")},children:[Object(j.jsx)("img",{className:"categories-img",src:d,alt:"heart"}),Object(j.jsx)("div",{className:"categories-favorites",onClick:function(){i(!1),t(!1)},children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),Object(j.jsx)("div",{className:"title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(j.jsxs)("ul",{className:"categoriesList",children:[Object(j.jsx)("li",{onClick:function(){c("All"),a(!1),i(!1),t(!1)},children:"\u0412\u0441\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u044b"}),Object(j.jsxs)("li",{onClick:function(){return h(!m)},children:["\u041a\u043b\u0430\u0441\u0441\u044b",m&&Object(j.jsx)("ul",{children:o.map((function(e,s){return Object(j.jsx)("li",{onClick:function(){c("".concat(e)),a(!1),i(!1),t(!1)},children:e},"".concat(e,"_").concat(s))}))})]}),Object(j.jsxs)("li",{onClick:function(){return v(!O)},children:["C\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438",O&&Object(j.jsx)("ul",{children:l.map((function(e,s){return Object(j.jsx)("li",{onClick:function(){c("".concat(e)),a(!1),i(!1),t(!1)},children:e},"".concat(e,"_").concat(s))}))})]})]})]})},m=function(e){var t=e.id,i=e.name,c=e.type,s=e.image,a=e.deepState,n=e.favor,r=e.setShowHeartDescr,o=e.setMobile;return Object(j.jsxs)("button",{className:"pokemon-cart",onClick:function(){a(t),o(!0),r(!n)},children:[Object(j.jsx)("div",{children:Object(j.jsxs)("span",{children:["\u2116",t]})}),Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:s,alt:"pokemon"})}),Object(j.jsx)("div",{children:Object(j.jsxs)("strong",{className:"pokemon-cart__name",children:[" ",i]})}),Object(j.jsxs)("div",{children:["Class: ",c]}),n&&Object(j.jsx)("div",{className:"pokemon-cart__heart ",children:Object(j.jsx)("img",{src:d,alt:"like"})})]})},h=i(5),p=i.n(h),f=i(8),O=i(10),v=i(11),x=i(12),g=i(2),w=new(function(){function e(){Object(v.a)(this,e),this.api="https://pokeapi.co/api/v2/pokemon?limit=20",this.count=[],Object(g.d)(this)}return Object(x.a)(e,[{key:"getPoki",value:function(){var e=Object(O.a)(p.a.mark((function e(){var t,i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){var t=this;e.forEach(function(){var e=Object(O.a)(p.a.mark((function e(i){var c,s,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokemon/".concat(i.name));case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.next=8,fetch("https://pokeapi.co/api/v2/ability/".concat(s.abilities[0].ability.name));case 8:return a=e.sent,e.next=11,a.json();case 11:n=e.sent,r=n.effect_entries,s.abildesr=r,Object(g.g)((function(){t.count=[].concat(Object(f.a)(t.count),[s]),t.count.sort((function(e,t){return e.id-t.id}))}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},e.next=3,fetch(this.api);case 3:return t=e.sent,e.next=6,t.json();case 6:i=e.sent,this.api=i.next,c.call(this,i.results);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),k=i.p+"static/media/loader.f67880ae.svg",y=function(e){var t=e.pokemonsList,i=e.deepState,c=e.filter,a=e.favorites,n=e.favoritesVisible,o=e.setShowHeartDescr,l=e.setMobile,b=e.mobile,d=s.a.useState(""),u=Object(r.a)(d,2),h=u[0],p=u[1],f=s.a.useState(["name"]),O=Object(r.a)(f,1)[0],v=s.a.useRef();function x(e){return e.filter((function(e){return e.types[0].type.name===c||e.abilities[0].ability.name===c||"All"===c?O.some((function(t){return e[t].toString().toLowerCase().indexOf(h.toLowerCase())>-1})):void 0}))}return s.a.useEffect((function(){"All"===c&&new IntersectionObserver((function(e){"All"===c&&e[0].isIntersecting&&(w.getPoki(),console.log(e))}),{threshold:1}).observe(v.current)}),[c]),Object(j.jsxs)("div",{className:b?"selectItems mobile":"selectItems",children:[Object(j.jsx)("div",{className:"search-wrapper",children:Object(j.jsx)("label",{htmlFor:"search-form",children:Object(j.jsx)("input",{type:"search",name:"search-form",id:"search-form",className:"search-input",placeholder:"Search for...",value:h,onChange:function(e){return p(e.target.value)}})})}),w.count.length>=19?n?a.length>0?a.map((function(e,t){return Object(j.jsx)(m,{id:e.id,name:e.name,image:e.image,type:e.type,deepState:i,favor:e.favor,setShowHeartDescr:o,setMobile:l},t)})):Object(j.jsx)("div",{children:" \u0423 \u0432\u0430\u0441 \u0442\u0443\u0442 \u043f\u0443\u0441\u0442\u043e "}):Object(j.jsx)(j.Fragment,{children:x(t).map((function(e,t){return Object(j.jsx)(m,{id:e.id,name:e.name,image:e.sprites.other.dream_world.front_default,type:e.types[0].type.name,deepState:i,favor:e.favor,setShowHeartDescr:o,setMobile:l},t)}))}):Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:k,alt:"loading"})}),"All"===c&&Object(j.jsx)("div",{className:"test",ref:v,children:Object(j.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})]})},S=function(e){var t=e.id,i=e.name,c=e.image,s=e.type,a=e.ability,n=e.abilityDescr,r=e.favorites,o=e.showHeartDescr,l=e.setShowHeartDescr,b=e.allDescr,u=e.mobile,m=e.setMobile;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:u?"view-description__mobile":"view-description",children:[Object(j.jsx)("div",{className:"view-description__name",children:i}),Object(j.jsx)("div",{className:"view-description__image",children:Object(j.jsx)("img",{src:c,alt:""})}),Object(j.jsxs)("div",{className:"view-description__type",children:["Class:",s]}),Object(j.jsxs)("div",{className:"view-description__ability",children:["Ability: ",Object(j.jsx)("span",{children:a})]}),Object(j.jsxs)("div",{className:"view-description__abilityDescr",children:[" ",n]}),Object(j.jsxs)("div",{className:"view-description__heart",children:[Object(j.jsx)("div",{onClick:function(){return function(e){if(e)r((function(e){return[].concat(Object(f.a)(e),[{id:t,name:i,image:c,type:s,favor:!0}])})),l(!e);else{var a=JSON.parse(localStorage.getItem("poki"));a.forEach((function(e,i){e.id===t&&a.splice(i,1)})),r(a),l(!e),b.favor=!1}}(o)},children:Object(j.jsx)("img",{className:b.favor?"view-description__heart--active":"view-description__heart--noactive",src:d,alt:"heart",onClick:function(){b.favor=!0}})}),Object(j.jsx)("div",{className:"view-description__back",children:Object(j.jsx)("span",{onClick:function(){m(!1)},children:"\u041d\u0430\u0437\u0430\u0434"})})]})]})})},_=function(e){var t=e.myState,i=e.pokiDescription,c=e.favorites,s=e.showHeartDescr,a=e.setShowHeartDescr,n=e.mobile,r=e.setMobile;return Object(j.jsx)("div",{className:"view",children:t&&Object(j.jsx)(S,{favorites:c,allDescr:i,ability:i.abilities[0].ability.name,abilityDescr:i.abildesr[1].effect,id:i.id,name:i.name,image:i.sprites.other.dream_world.front_default,type:i.types[0].type.name,showHeartDescr:s,setShowHeartDescr:a,mobile:n,setMobile:r})})},N=function(e,t){var i=Object(c.useState)((function(){try{var i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(c){return console.log(c),t}})),s=Object(r.a)(i,2),a=s[0],n=s[1];return[a,function(t){try{var i=t instanceof Function?t(a):t;n(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(c){console.log(c)}}]},C=function(e){var t=e.pokemonsList,i=Object(c.useState)(),s=Object(r.a)(i,2),a=s[0],n=s[1],o=Object(c.useState)("All"),l=Object(r.a)(o,2),d=l[0],m=l[1],h=Object(c.useState)(!1),p=Object(r.a)(h,2),f=p[0],O=p[1],v=Object(c.useState)(!1),x=Object(r.a)(v,2),g=x[0],w=x[1],k=N("poki",[]),S=Object(r.a)(k,2),C=S[0],D=S[1],H=Object(c.useState)(!0),M=Object(r.a)(H,2),A=M[0],I=M[1],F=Object(c.useState)(!1),L=Object(r.a)(F,2),E=L[0],J=L[1];return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(b,{burger:E,setBurger:J}),Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(u,{setFilter:m,setFavoritesVisible:w,burger:E,setBurger:J,setMobile:O,itemClass:["grass","normal","fire","water","bug"],itemAbility:["overgroth","blaze","shield-dust","shed-skin","compound-eyes","swarm","keen-eye","run-away","torrent"]}),Object(j.jsx)(y,{pokemonsList:t,deepState:n,filter:d,favorites:C,favoritesVisible:g,setShowHeartDescr:I,setMobile:O,mobile:f}),Object(j.jsx)(_,{myState:a,pokiDescription:t[a-1],favorites:D,showHeartDescr:A,setShowHeartDescr:I,mobile:f,setMobile:O})]})]})},D=i(13),H=Object(D.a)((function(){return function(){var e=JSON.parse(localStorage.getItem("poki")),t=[];e&&(e.forEach((function(e,i){t[i]=e.id})),w.count.forEach((function(e){t.includes(e.id)&&(e.favor=!0)})))}(),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(C,{pokemonsList:w.count})})}));n.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(H,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.7b9c6a09.chunk.js.map