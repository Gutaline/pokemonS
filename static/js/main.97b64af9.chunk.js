(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{18:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);var s=i(2),a=i.n(s),n=i(9),c=i.n(n),r=(i(18),i(6)),o=i.p+"static/media/logo.0444b39a.png",l=i.p+"static/media/ball-1.49e2fb42.png",b=i(5),u=i(3),j=i(4),d=i(1),h=new(function(){function e(){Object(u.a)(this,e),this.burgerState=!1,Object(d.e)(this,{burgerState:d.g,setReverseState:d.b})}return Object(j.a)(e,[{key:"setReverseState",value:function(){this.burgerState=!this.burgerState}},{key:"setBurgerFalse",value:function(){this.burgerState=!1}}]),e}()),f=i(0),v=Object(b.a)((function(){return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("div",{className:"header-logo_ball",children:Object(f.jsx)("img",{src:l,alt:"ball"})}),Object(f.jsx)("div",{className:"header-logo__pokeman",children:Object(f.jsx)("img",{src:o,alt:"pokemon",onClick:function(){return window.location.reload()}})}),Object(f.jsx)("div",{className:"burger-menu",children:Object(f.jsx)("span",{})}),Object(f.jsx)("div",{className:"burger-menu",onClick:function(){h.setReverseState()},children:Object(f.jsx)("span",{})})]})})),m=i.p+"static/media/Heart1.c0316ea0.png",p=new(function(){function e(){Object(u.a)(this,e),this.mobileState=!1,Object(d.e)(this,{mobileState:d.g,setReverseState:d.b,activeMobile:d.b,disableMobile:d.b})}return Object(j.a)(e,[{key:"setReverseState",value:function(){this.mobileState=!this.mobileState}},{key:"activeMobile",value:function(){this.mobileState=!0}},{key:"disableMobile",value:function(){this.mobileState=!1}}]),e}()),O=new(function(){function e(){Object(u.a)(this,e),this.favorState=!1,Object(d.e)(this,{favorState:d.g,favorActive:d.b,favorDisable:d.b})}return Object(j.a)(e,[{key:"favorActive",value:function(){this.favorState=!0}},{key:"favorDisable",value:function(){this.favorState=!1}}]),e}()),g=new(function(){function e(){Object(u.a)(this,e),this.filter="All",this.inputValue="",Object(d.e)(this,{filter:d.g,inputValue:d.g,setFilter:d.b})}return Object(j.a)(e,[{key:"setFilter",value:function(e){this.filter=e}},{key:"setInputValue",value:function(e){this.inputValue=e}}]),e}()),k=new(function(){function e(){Object(u.a)(this,e),this.Abilites=!1,this.Class=!1,Object(d.e)(this,{Abilites:d.g,Class:d.g,setVisibleAbilites:d.b,setVisibleClass:d.b})}return Object(j.a)(e,[{key:"setVisibleAbilites",value:function(){this.Abilites=!this.Abilites}},{key:"setVisibleClass",value:function(){this.Class=!this.Class}}]),e}()),x=new function e(){Object(u.a)(this,e),this.itemClass=["grass","normal","fire","water","bug"],this.itemAbility=["overgroth","blaze","shield-dust","shed-skin","compound-eyes","swarm","keen-eye","run-away","torrent"],Object(d.e)(this,{itemClass:d.g,itemAbility:d.g})},y=Object(b.a)((function(){return Object(f.jsxs)("div",{className:h.burgerState?"categories active":"categories",children:[Object(f.jsxs)("div",{className:"categories-favorites__wrapper",onClick:function(){O.favorActive(),g.setFilter("")},children:[Object(f.jsx)("img",{className:"categories-img",src:m,alt:"heart"}),Object(f.jsx)("div",{className:"categories-favorites",onClick:function(){h.setBurgerFalse(),p.disableMobile()},children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),Object(f.jsx)("div",{className:"title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(f.jsxs)("ul",{className:"categoriesList",children:[Object(f.jsx)("li",{onClick:function(){g.setFilter("All"),O.favorDisable(),h.setBurgerFalse(),p.disableMobile()},children:"\u0412\u0441\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u044b"}),Object(f.jsxs)("li",{onClick:function(){return k.setVisibleAbilites()},children:["\u041a\u043b\u0430\u0441\u0441\u044b",k.Abilites&&Object(f.jsx)("ul",{children:x.itemClass.map((function(e,t){return Object(f.jsx)("li",{onClick:function(){g.setFilter("".concat(e)),O.favorDisable(),h.setBurgerFalse(),p.disableMobile()},children:e},"".concat(e,"_").concat(t))}))})]}),Object(f.jsxs)("li",{onClick:function(){return k.setVisibleClass()},children:["C\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438",k.Class&&Object(f.jsx)("ul",{children:x.itemAbility.map((function(e,t){return Object(f.jsx)("li",{onClick:function(){g.setFilter("".concat(e)),O.favorDisable(),h.setBurgerFalse(),p.disableMobile()},children:e},"".concat(e,"_").concat(t))}))})]})]})]})})),w=new(function(){function e(){Object(u.a)(this,e),this.idPoki=0,this.pokifavor=!1,Object(d.e)(this,{idPoki:d.g,setIdPoki:d.b})}return Object(j.a)(e,[{key:"setIdPoki",value:function(e,t){this.idPoki=e,this.pokifavor=t}}]),e}()),N=new(function(){function e(){Object(u.a)(this,e),this.heart=!1,Object(d.e)(this,{heart:d.g,heartActive:d.b,heartDisable:d.b})}return Object(j.a)(e,[{key:"heartActive",value:function(){this.heart=!0}},{key:"heartDisable",value:function(){this.heart=!1}}]),e}()),S=i(11),_=i(8),C=i.n(_),A=i(13),F=new(function(){function e(){Object(u.a)(this,e),this.api="https://pokeapi.co/api/v2/pokemon?limit=20",this.pokemons=[],Object(d.e)(this,{pokemons:d.g,getPoki:d.b,falseFavor:d.b,trueFavor:d.b})}return Object(j.a)(e,[{key:"getPoki",value:function(){var e=Object(A.a)(C.a.mark((function e(){var t,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.api);case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,this.api=i.next,this.createPokemonObject([]),this.createPokemonObject.call(this,i.results);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createPokemonObject",value:function(e){var t=this;e.forEach(function(){var e=Object(A.a)(C.a.mark((function e(i){var s,a,n,c,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokemon/".concat(i.name));case 2:return s=e.sent,e.next=5,s.json();case 5:return a=e.sent,e.next=8,fetch("https://pokeapi.co/api/v2/ability/".concat(a.abilities[0].ability.name));case 8:return n=e.sent,e.next=11,n.json();case 11:c=e.sent,r=c.effect_entries,a.abildesr=r,Object(d.h)((function(){t.pokemons=[].concat(Object(S.a)(t.pokemons),[a]),t.pokemons.sort((function(e,t){return e.id-t.id}))}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"falseFavor",value:function(e){e<this.pokemons.length&&(this.pokemons[e-1].favor=!1)}},{key:"trueFavor",value:function(e){e<this.pokemons.length&&(this.pokemons[e-1].favor=!0)}}]),e}()),D=new(function(){function e(){Object(u.a)(this,e),this.loading=0,this.description=null,this.favorOrNot=!1,Object(d.e)(this,{description:d.g,loading:d.g,checkLocal:d.b})}return Object(j.a)(e,[{key:"checkLocal",value:function(){if(w.pokifavor){var e=JSON.parse(localStorage.getItem("poki")).filter((function(e){return e.id===w.idPoki})),t=e;this.description=e,console.log(t),this.loading=1}else this.description=F.pokemons[w.idPoki-1],this.loading=2}}]),e}()),I=Object(b.a)((function(e){var t=e.id,i=e.name,s=e.type,a=e.image,n=e.favor;return Object(f.jsxs)("button",{className:"pokemon-cart",onClick:function(){w.setIdPoki(t,n),p.activeMobile(),D.checkLocal(),n?N.heartDisable():N.heartActive()},children:[Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["\u2116",t]})}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:a,alt:"pokemon"})}),Object(f.jsx)("div",{children:Object(f.jsxs)("strong",{className:"pokemon-cart__name",children:[" ",i]})}),Object(f.jsxs)("div",{children:["Class: ",s]}),n&&Object(f.jsx)("div",{className:"pokemon-cart__heart ",children:Object(f.jsx)("img",{src:m,alt:"like"})})]})})),V=i.p+"static/media/loader.f67880ae.svg",P=Object(b.a)((function(e){var t=e.favorites,i=a.a.useState(["name"]),s=Object(r.a)(i,1)[0],n=a.a.useRef(null);return a.a.useEffect((function(){if("All"===g.filter){var e=new IntersectionObserver((function(e){console.log(e),"All"===g.filter&&e[0].isIntersecting&&""===g.inputValue&&F.getPoki()}),{threshold:1});null!==n.current&&e.observe(n.current)}}),[g.filter]),Object(f.jsxs)("div",{className:p.mobileState?"selectItems mobile":"selectItems",children:[Object(f.jsx)("div",{className:"search-wrapper",children:Object(f.jsx)("label",{htmlFor:"search-form",children:Object(f.jsx)("input",{type:"search",name:"search-form",id:"search-form",className:"search-input",placeholder:"Search for...",value:g.inputValue,onChange:function(e){g.setInputValue(e.target.value)}})})}),F.pokemons.length>=19?function(){return O.favorState?t.length>0?t.map((function(e,t){return Object(f.jsx)(I,{id:e.id,name:e.name,image:e.image,type:e.type,favor:e.favor},t)})):Object(f.jsx)("div",{children:" \u0423 \u0432\u0430\u0441 \u0442\u0443\u0442 \u043f\u0443\u0441\u0442\u043e "}):Object(f.jsx)(f.Fragment,{children:(e=F.pokemons,e.filter((function(e){return e.types[0].type.name===g.filter||e.abilities[0].ability.name===g.filter||"All"===g.filter?s.some((function(){return e.toString().toLowerCase().indexOf(g.inputValue.toLowerCase())>-1})):void 0}))).map((function(e,t){return Object(f.jsx)(I,{id:e.id,name:e.name,image:e.sprites.other.dream_world.front_default,type:e.types[0].type.name,favor:e.favor},t)}))});var e}():Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:V,alt:"loading"})}),"All"===g.filter&&Object(f.jsx)("div",{className:"download",ref:n,children:Object(f.jsx)("span",{className:g.inputValue?"disable":"active",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})]})})),M=Object(b.a)((function(e){var t=e.id,i=e.name,s=e.image,a=e.type,n=e.ability,c=e.abilityDescr,r=e.favorites;e.allDescr;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:p.mobileState?"view-description__mobile":"view-description",children:[Object(f.jsx)("div",{className:"view-description__name",children:i}),Object(f.jsx)("div",{className:"view-description__image",children:Object(f.jsx)("img",{src:s,alt:""})}),Object(f.jsxs)("div",{className:"view-description__type",children:["Class:",a]}),Object(f.jsxs)("div",{className:"view-description__ability",children:["Ability: ",Object(f.jsx)("span",{children:n})]}),Object(f.jsxs)("div",{className:"view-description__abilityDescr",children:[" ",c]}),Object(f.jsxs)("div",{className:"view-description__heart",children:[Object(f.jsx)("div",{onClick:function(){return function(e){if(e)r((function(e){return[].concat(Object(S.a)(e),[{id:t,name:i,image:s,type:a,favor:!0,ability:n,abilityDescr:c}])})),N.heartDisable();else{var o=JSON.parse(localStorage.getItem("poki"));o.forEach((function(e,i){e.id===t&&o.splice(i,1)})),r(o),N.heartActive(),F.falseFavor(t)}}(N.heart)},children:Object(f.jsx)("img",{className:N.heart?"view-description__heart--noactive":"view-description__heart--active",src:m,alt:"heart",onClick:function(){F.trueFavor(t)}})}),Object(f.jsx)("div",{className:"view-description__back",children:Object(f.jsx)("span",{onClick:function(){p.disableMobile()},children:"\u041d\u0430\u0437\u0430\u0434"})})]})]})})})),J=i.p+"static/media/emptyDescr.400e7447.png",B=Object(b.a)((function(e){var t=e.favorites;return Object(f.jsx)("div",{className:"view",children:0===D.loading?Object(f.jsxs)("div",{className:"view-emptyDescr",children:[Object(f.jsx)("img",{src:J,alt:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(f.jsx)("div",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"})]}):2===D.loading?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M,{favorites:t,allDescr:D.description,ability:D.description.abilities[0].ability.name,abilityDescr:D.description.abildesr[1].effect,id:D.description.id,name:D.description.name,image:D.description.sprites.other.dream_world.front_default,type:D.description.types[0].type.name})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M,{favorites:t,allDescr:D.description[0],ability:D.description[0].ability,abilityDescr:D.description[0].abilityDescr,id:D.description[0].id,name:D.description[0].name,image:D.description[0].image,type:D.description[0].type})})})})),E=function(e,t){var i=Object(s.useState)((function(){try{var i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(s){return console.log(s),t}})),a=Object(r.a)(i,2),n=a[0],c=a[1];return[n,function(t){try{var i=t instanceof Function?t(n):t;c(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(s){console.log(s)}}]},L=Object(b.a)((function(){var e=E("poki",[]),t=Object(r.a)(e,2),i=t[0],s=t[1];return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(v,{}),Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(y,{}),Object(f.jsx)(P,{favorites:i}),Object(f.jsx)(B,{favorites:s})]})]})})),R=Object(b.a)((function(){return function(){var e=JSON.parse(localStorage.getItem("poki")),t=[];e&&(e.forEach((function(e,i){t[i]=e.id})),F.pokemons.forEach((function(e,i){t.includes(e.id)&&F.trueFavor(i+1)})))}(),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(L,{})})}));c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.97b64af9.chunk.js.map