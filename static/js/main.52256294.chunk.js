(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{18:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);var a=i(2),c=i.n(a),n=i(9),s=i.n(n),r=(i(18),i(6)),o=i.p+"static/media/logo.0444b39a.png",l=i.p+"static/media/ball-1.49e2fb42.png",b=i(3),u=i(4),j=i(5),d=i(1),h=new(function(){function e(){Object(u.a)(this,e),this.burgerState=!1,Object(d.e)(this,{burgerState:d.g,setReverseState:d.b})}return Object(j.a)(e,[{key:"setReverseState",value:function(){this.burgerState=!this.burgerState}}]),e}()),f=i(0),m=Object(b.a)((function(){return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("div",{className:"header-logo_ball",children:Object(f.jsx)("img",{src:l,alt:"ball"})}),Object(f.jsx)("div",{className:"header-logo__pokeman",children:Object(f.jsx)("img",{src:o,alt:"pokemon",onClick:function(){return window.location.reload()}})}),Object(f.jsx)("div",{className:"burger-menu",children:Object(f.jsx)("span",{})}),Object(f.jsx)("div",{className:"burger-menu",onClick:function(){h.setReverseState()},children:Object(f.jsx)("span",{})})]})})),v=i.p+"static/media/Heart1.c0316ea0.png",O=new(function(){function e(){Object(u.a)(this,e),this.mobileState=!1,Object(d.e)(this,{mobileState:d.g,setReverseState:d.b,activeMobile:d.b,disableMobile:d.b})}return Object(j.a)(e,[{key:"setReverseState",value:function(){this.mobileState=!this.mobileState}},{key:"activeMobile",value:function(){this.mobileState=!0}},{key:"disableMobile",value:function(){this.mobileState=!1}}]),e}()),p=new(function(){function e(){Object(u.a)(this,e),this.favorState=!1,Object(d.e)(this,{favorState:d.g,favorActive:d.b,favorDisable:d.b})}return Object(j.a)(e,[{key:"favorActive",value:function(){this.favorState=!0}},{key:"favorDisable",value:function(){this.favorState=!1}}]),e}()),g=Object(b.a)((function(e){var t=e.setFilter,i=e.itemClass,a=e.itemAbility,n=c.a.useState(!1),s=Object(r.a)(n,2),o=s[0],l=s[1],b=c.a.useState(!1),u=Object(r.a)(b,2),j=u[0],d=u[1];return Object(f.jsxs)("div",{className:h.burgerState?"categories active":"categories",children:[Object(f.jsxs)("div",{className:"categories-favorites__wrapper",onClick:function(){p.favorActive(),t("")},children:[Object(f.jsx)("img",{className:"categories-img",src:v,alt:"heart"}),Object(f.jsx)("div",{className:"categories-favorites",onClick:function(){h.burgerState=!1,O.disableMobile()},children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),Object(f.jsx)("div",{className:"title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(f.jsxs)("ul",{className:"categoriesList",children:[Object(f.jsx)("li",{onClick:function(){t("All"),p.favorDisable(),h.burgerState=!1,O.disableMobile()},children:"\u0412\u0441\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u044b"}),Object(f.jsxs)("li",{onClick:function(){return l(!o)},children:["\u041a\u043b\u0430\u0441\u0441\u044b",o&&Object(f.jsx)("ul",{children:i.map((function(e,i){return Object(f.jsx)("li",{onClick:function(){t("".concat(e)),p.favorDisable(),h.burgerState=!1,O.disableMobile()},children:e},"".concat(e,"_").concat(i))}))})]}),Object(f.jsxs)("li",{onClick:function(){return d(!j)},children:["C\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438",j&&Object(f.jsx)("ul",{children:a.map((function(e,i){return Object(f.jsx)("li",{onClick:function(){t("".concat(e)),p.favorDisable(),h.burgerState=!1,O.disableMobile()},children:e},"".concat(e,"_").concat(i))}))})]})]})]})})),x=new(function(){function e(){Object(u.a)(this,e),this.idPoki=0,this.pokifavor=!1,Object(d.e)(this,{idPoki:d.g,setIdPoki:d.b})}return Object(j.a)(e,[{key:"setIdPoki",value:function(e,t){this.idPoki=e,this.pokifavor=t}}]),e}()),k=new(function(){function e(){Object(u.a)(this,e),this.heart=!0,Object(d.e)(this,{heart:d.g,heartActive:d.b,heartDisable:d.b})}return Object(j.a)(e,[{key:"heartActive",value:function(){this.heart=!0}},{key:"heartDisable",value:function(){this.heart=!1}}]),e}()),S=i(8),y=i.n(S),w=i(11),N=i(13),_=new(function(){function e(){Object(u.a)(this,e),this.api="https://pokeapi.co/api/v2/pokemon?limit=20",this.count=[],Object(d.e)(this,{count:d.g,getPoki:d.b,falseFavor:d.b,trueFavor:d.b})}return Object(j.a)(e,[{key:"getPoki",value:function(){var e=Object(N.a)(y.a.mark((function e(){var t,i,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){var t=this;e.forEach(function(){var e=Object(N.a)(y.a.mark((function e(i){var a,c,n,s,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokemon/".concat(i.name));case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.next=8,fetch("https://pokeapi.co/api/v2/ability/".concat(c.abilities[0].ability.name));case 8:return n=e.sent,e.next=11,n.json();case 11:s=e.sent,r=s.effect_entries,c.abildesr=r,Object(d.h)((function(){t.count=[].concat(Object(w.a)(t.count),[c]),t.count.sort((function(e,t){return e.id-t.id}))}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},e.next=3,fetch(this.api);case 3:return t=e.sent,e.next=6,t.json();case 6:i=e.sent,this.api=i.next,a.call(this,i.results);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"falseFavor",value:function(e){e<=this.count.length&&(this.count[e-1].favor=!1)}},{key:"trueFavor",value:function(e){e<=this.count.length&&(this.count[e-1].favor=!0)}}]),e}()),C=new(function(){function e(){Object(u.a)(this,e),this.loading=0,this.mobileState=_.count[1],this.favorOrNot=!1,Object(d.e)(this,{mobileState:d.g,loading:d.g,checkLocal:d.b})}return Object(j.a)(e,[{key:"checkLocal",value:function(){if(x.pokifavor){var e=JSON.parse(localStorage.getItem("poki")).filter((function(e){return e.id===x.idPoki})),t=e;this.mobileState=e,console.log(t),this.loading=1}else this.mobileState=_.count[x.idPoki-1],this.loading=2}}]),e}()),D=Object(b.a)((function(e){var t=e.id,i=e.name,a=e.type,c=e.image,n=e.favor;return Object(f.jsxs)("button",{className:"pokemon-cart",onClick:function(){x.setIdPoki(t,n),O.activeMobile(),C.checkLocal(),n?k.heartDisable():k.heartActive()},children:[Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["\u2116",t]})}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:c,alt:"pokemon"})}),Object(f.jsx)("div",{children:Object(f.jsxs)("strong",{className:"pokemon-cart__name",children:[" ",i]})}),Object(f.jsxs)("div",{children:["Class: ",a]}),n&&Object(f.jsx)("div",{className:"pokemon-cart__heart ",children:Object(f.jsx)("img",{src:v,alt:"like"})})]})})),A=i.p+"static/media/loader.f67880ae.svg",F=Object(b.a)((function(e){var t=e.pokemonsList,i=e.filter,a=e.favorites,n=c.a.useState(""),s=Object(r.a)(n,2),o=s[0],l=s[1],b=c.a.useState(["name"]),u=Object(r.a)(b,1)[0],j=c.a.useRef();function d(e){return e.filter((function(e){return e.types[0].type.name===i||e.abilities[0].ability.name===i||"All"===i?u.some((function(t){return e[t].toString().toLowerCase().indexOf(o.toLowerCase())>-1})):void 0}))}return c.a.useEffect((function(){"All"===i&&new IntersectionObserver((function(e){"All"===i&&e[0].isIntersecting&&_.getPoki()}),{threshold:1}).observe(j.current)}),[i]),Object(f.jsxs)("div",{className:O.mobileState?"selectItems mobile":"selectItems",children:[Object(f.jsx)("div",{className:"search-wrapper",children:Object(f.jsx)("label",{htmlFor:"search-form",children:Object(f.jsx)("input",{type:"search",name:"search-form",id:"search-form",className:"search-input",placeholder:"Search for...",value:o,onChange:function(e){return l(e.target.value)}})})}),_.count.length>=19?p.favorState?a.length>0?a.map((function(e,t){return Object(f.jsx)(D,{id:e.id,name:e.name,image:e.image,type:e.type,favor:e.favor},t)})):Object(f.jsx)("div",{children:" \u0423 \u0432\u0430\u0441 \u0442\u0443\u0442 \u043f\u0443\u0441\u0442\u043e "}):Object(f.jsx)(f.Fragment,{children:d(t).map((function(e,t){return Object(f.jsx)(D,{id:e.id,name:e.name,image:e.sprites.other.dream_world.front_default,type:e.types[0].type.name,favor:e.favor},t)}))}):Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:A,alt:"loading"})}),"All"===i&&Object(f.jsx)("div",{className:"download",ref:j,children:Object(f.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})]})})),I=Object(b.a)((function(e){var t=e.id,i=e.name,a=e.image,c=e.type,n=e.ability,s=e.abilityDescr,r=e.favorites,o=e.allDescr;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:O.mobileState?"view-description__mobile":"view-description",children:[Object(f.jsx)("div",{className:"view-description__name",children:i}),Object(f.jsx)("div",{className:"view-description__image",children:Object(f.jsx)("img",{src:a,alt:""})}),Object(f.jsxs)("div",{className:"view-description__type",children:["Class:",c]}),Object(f.jsxs)("div",{className:"view-description__ability",children:["Ability: ",Object(f.jsx)("span",{children:n})]}),Object(f.jsxs)("div",{className:"view-description__abilityDescr",children:[" ",s]}),Object(f.jsxs)("div",{className:"view-description__heart",children:[Object(f.jsx)("div",{onClick:function(){return function(e){if(e)r((function(e){return[].concat(Object(w.a)(e),[{id:t,name:i,image:a,type:c,favor:!0,ability:n,abilityDescr:s}])})),k.heartDisable();else{var o=JSON.parse(localStorage.getItem("poki"));o.forEach((function(e,i){e.id===t&&o.splice(i,1)})),r(o),k.heartActive(),_.falseFavor(t)}}(k.heart)},children:Object(f.jsx)("img",{className:o.favor?"view-description__heart--active":"view-description__heart--noactive",src:v,alt:"heart",onClick:function(){_.trueFavor(t)}})}),Object(f.jsx)("div",{className:"view-description__back",children:Object(f.jsx)("span",{onClick:function(){O.disableMobile()},children:"\u041d\u0430\u0437\u0430\u0434"})})]})]})})})),M=Object(b.a)((function(e){var t=e.pokiDescription,i=e.favorites;return Object(f.jsx)("div",{className:"view",children:0===t?Object(f.jsx)("div",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430"}):2===t?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(I,{favorites:i,allDescr:C.mobileState,ability:C.mobileState.abilities[0].ability.name,abilityDescr:C.mobileState.abildesr[1].effect,id:C.mobileState.id,name:C.mobileState.name,image:C.mobileState.sprites.other.dream_world.front_default,type:C.mobileState.types[0].type.name})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(I,{favorites:i,allDescr:C.mobileState[0],ability:C.mobileState[0].ability,abilityDescr:C.mobileState[0].abilityDescr,id:C.mobileState[0].id,name:C.mobileState[0].name,image:C.mobileState[0].image,type:C.mobileState[0].type})})})})),P=function(e,t){var i=Object(a.useState)((function(){try{var i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(a){return console.log(a),t}})),c=Object(r.a)(i,2),n=c[0],s=c[1];return[n,function(t){try{var i=t instanceof Function?t(n):t;s(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(a){console.log(a)}}]},L=Object(b.a)((function(e){var t=e.pokemonsList,i=Object(a.useState)("All"),c=Object(r.a)(i,2),n=c[0],s=c[1],o=P("poki",[]),l=Object(r.a)(o,2),b=l[0],u=l[1];return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(m,{}),Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(g,{setFilter:s,itemClass:["grass","normal","fire","water","bug"],itemAbility:["overgroth","blaze","shield-dust","shed-skin","compound-eyes","swarm","keen-eye","run-away","torrent"]}),Object(f.jsx)(F,{pokemonsList:t,filter:n,favorites:b}),Object(f.jsx)(M,{pokiDescription:C.loading,favorites:u})]})]})})),J=Object(b.a)((function(){return function(){var e=JSON.parse(localStorage.getItem("poki")),t=[];e&&(e.forEach((function(e,i){t[i]=e.id})),_.count.forEach((function(e,i){t.includes(e.id)&&_.trueFavor(i+1)})))}(),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(L,{pokemonsList:_.count})})}));s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(J,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.52256294.chunk.js.map