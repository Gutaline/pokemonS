(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{18:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);var a=i(2),n=i.n(a),c=i(9),s=i.n(c),r=(i(18),i(6)),o=i.p+"static/media/logo.0444b39a.png",l=i.p+"static/media/ball-1.49e2fb42.png",b=i(5),u=i(3),j=i(4),d=i(1),h=new(function(){function e(){Object(u.a)(this,e),this.burgerState=!1,Object(d.e)(this,{burgerState:d.g,setReverseState:d.b})}return Object(j.a)(e,[{key:"setReverseState",value:function(){this.burgerState=!this.burgerState}}]),e}()),m=i(0),f=Object(b.a)((function(){return Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{className:"header-logo_ball",children:Object(m.jsx)("img",{src:l,alt:"ball"})}),Object(m.jsx)("div",{className:"header-logo__pokeman",children:Object(m.jsx)("img",{src:o,alt:"pokemon",onClick:function(){return window.location.reload()}})}),Object(m.jsx)("div",{className:"burger-menu",children:Object(m.jsx)("span",{})}),Object(m.jsx)("div",{className:"burger-menu",onClick:function(){h.setReverseState()},children:Object(m.jsx)("span",{})})]})})),v=i.p+"static/media/Heart1.c0316ea0.png",p=new(function(){function e(){Object(u.a)(this,e),this.mobileState=!1,Object(d.e)(this,{mobileState:d.g,setReverseState:d.b,activeMobile:d.b,disableMobile:d.b})}return Object(j.a)(e,[{key:"setReverseState",value:function(){this.mobileState=!this.mobileState}},{key:"activeMobile",value:function(){this.mobileState=!0}},{key:"disableMobile",value:function(){this.mobileState=!1}}]),e}()),O=new(function(){function e(){Object(u.a)(this,e),this.favorState=!1,Object(d.e)(this,{favorState:d.g,favorActive:d.b,favorDisable:d.b})}return Object(j.a)(e,[{key:"favorActive",value:function(){this.favorState=!0}},{key:"favorDisable",value:function(){this.favorState=!1}}]),e}()),g=new(function(){function e(){Object(u.a)(this,e),this.filter="All",this.inputValue="",Object(d.e)(this,{filter:d.g,inputValue:d.g,setFilter:d.b})}return Object(j.a)(e,[{key:"setFilter",value:function(e){this.filter=e}},{key:"setInputValue",value:function(e){this.inputValue=e}}]),e}()),k=Object(b.a)((function(e){var t=e.itemClass,i=e.itemAbility,a=n.a.useState(!1),c=Object(r.a)(a,2),s=c[0],o=c[1],l=n.a.useState(!1),b=Object(r.a)(l,2),u=b[0],j=b[1];return Object(m.jsxs)("div",{className:h.burgerState?"categories active":"categories",children:[Object(m.jsxs)("div",{className:"categories-favorites__wrapper",onClick:function(){O.favorActive(),g.setFilter("")},children:[Object(m.jsx)("img",{className:"categories-img",src:v,alt:"heart"}),Object(m.jsx)("div",{className:"categories-favorites",onClick:function(){h.burgerState=!1,p.disableMobile()},children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),Object(m.jsx)("div",{className:"title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(m.jsxs)("ul",{className:"categoriesList",children:[Object(m.jsx)("li",{onClick:function(){g.setFilter("All"),O.favorDisable(),h.burgerState=!1,p.disableMobile()},children:"\u0412\u0441\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u044b"}),Object(m.jsxs)("li",{onClick:function(){return o(!s)},children:["\u041a\u043b\u0430\u0441\u0441\u044b",s&&Object(m.jsx)("ul",{children:t.map((function(e,t){return Object(m.jsx)("li",{onClick:function(){g.setFilter("".concat(e)),O.favorDisable(),h.burgerState=!1,p.disableMobile()},children:e},"".concat(e,"_").concat(t))}))})]}),Object(m.jsxs)("li",{onClick:function(){return j(!u)},children:["C\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438",u&&Object(m.jsx)("ul",{children:i.map((function(e,t){return Object(m.jsx)("li",{onClick:function(){g.setFilter("".concat(e)),O.favorDisable(),h.burgerState=!1,p.disableMobile()},children:e},"".concat(e,"_").concat(t))}))})]})]})]})})),x=new(function(){function e(){Object(u.a)(this,e),this.idPoki=0,this.pokifavor=!1,Object(d.e)(this,{idPoki:d.g,setIdPoki:d.b})}return Object(j.a)(e,[{key:"setIdPoki",value:function(e,t){this.idPoki=e,this.pokifavor=t}}]),e}()),y=new(function(){function e(){Object(u.a)(this,e),this.heart=!1,Object(d.e)(this,{heart:d.g,heartActive:d.b,heartDisable:d.b})}return Object(j.a)(e,[{key:"heartActive",value:function(){this.heart=!0}},{key:"heartDisable",value:function(){this.heart=!1}}]),e}()),S=i(11),w=i(8),N=i.n(w),_=i(13),C=new(function(){function e(){Object(u.a)(this,e),this.api="https://pokeapi.co/api/v2/pokemon?limit=20",this.pokemons=[],Object(d.e)(this,{pokemons:d.g,getPoki:d.b,falseFavor:d.b,trueFavor:d.b})}return Object(j.a)(e,[{key:"getPoki",value:function(){var e=Object(_.a)(N.a.mark((function e(){var t,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.api);case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,this.api=i.next,this.createPokemonObject([]),this.createPokemonObject.call(this,i.results);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createPokemonObject",value:function(e){var t=this;e.forEach(function(){var e=Object(_.a)(N.a.mark((function e(i){var a,n,c,s,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokemon/".concat(i.name));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.next=8,fetch("https://pokeapi.co/api/v2/ability/".concat(n.abilities[0].ability.name));case 8:return c=e.sent,e.next=11,c.json();case 11:s=e.sent,r=s.effect_entries,n.abildesr=r,Object(d.h)((function(){t.pokemons=[].concat(Object(S.a)(t.pokemons),[n]),t.pokemons.sort((function(e,t){return e.id-t.id}))}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"falseFavor",value:function(e){e<this.pokemons.length&&(this.pokemons[e-1].favor=!1)}},{key:"trueFavor",value:function(e){e<this.pokemons.length&&(this.pokemons[e-1].favor=!0)}}]),e}()),D=new(function(){function e(){Object(u.a)(this,e),this.loading=0,this.mobileState=null,this.favorOrNot=!1,Object(d.e)(this,{mobileState:d.g,loading:d.g,checkLocal:d.b})}return Object(j.a)(e,[{key:"checkLocal",value:function(){if(x.pokifavor){var e=JSON.parse(localStorage.getItem("poki")).filter((function(e){return e.id===x.idPoki})),t=e;this.mobileState=e,console.log(t),this.loading=1}else this.mobileState=C.pokemons[x.idPoki-1],this.loading=2}}]),e}()),F=Object(b.a)((function(e){var t=e.id,i=e.name,a=e.type,n=e.image,c=e.favor;return Object(m.jsxs)("button",{className:"pokemon-cart",onClick:function(){x.setIdPoki(t,c),p.activeMobile(),D.checkLocal(),c?y.heartDisable():y.heartActive()},children:[Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:["\u2116",t]})}),Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:n,alt:"pokemon"})}),Object(m.jsx)("div",{children:Object(m.jsxs)("strong",{className:"pokemon-cart__name",children:[" ",i]})}),Object(m.jsxs)("div",{children:["Class: ",a]}),c&&Object(m.jsx)("div",{className:"pokemon-cart__heart ",children:Object(m.jsx)("img",{src:v,alt:"like"})})]})})),A=i.p+"static/media/loader.f67880ae.svg",I=Object(b.a)((function(e){var t=e.favorites,i=n.a.useState(["name"]),a=Object(r.a)(i,1)[0],c=n.a.useRef(null);return n.a.useEffect((function(){if("All"===g.filter){var e=new IntersectionObserver((function(e){console.log(e),"All"===g.filter&&e[0].isIntersecting&&""===g.inputValue&&C.getPoki()}),{threshold:1});null!==c.current&&e.observe(c.current)}}),[g.filter]),Object(m.jsxs)("div",{className:p.mobileState?"selectItems mobile":"selectItems",children:[Object(m.jsx)("div",{className:"search-wrapper",children:Object(m.jsx)("label",{htmlFor:"search-form",children:Object(m.jsx)("input",{type:"search",name:"search-form",id:"search-form",className:"search-input",placeholder:"Search for...",value:g.inputValue,onChange:function(e){g.setInputValue(e.target.value)}})})}),C.pokemons.length>=19?function(){return O.favorState?t.length>0?t.map((function(e,t){return Object(m.jsx)(F,{id:e.id,name:e.name,image:e.image,type:e.type,favor:e.favor},t)})):Object(m.jsx)("div",{children:" \u0423 \u0432\u0430\u0441 \u0442\u0443\u0442 \u043f\u0443\u0441\u0442\u043e "}):Object(m.jsx)(m.Fragment,{children:(e=C.pokemons,e.filter((function(e){return e.types[0].type.name===g.filter||e.abilities[0].ability.name===g.filter||"All"===g.filter?a.some((function(){return e.toString().toLowerCase().indexOf(g.inputValue.toLowerCase())>-1})):void 0}))).map((function(e,t){return Object(m.jsx)(F,{id:e.id,name:e.name,image:e.sprites.other.dream_world.front_default,type:e.types[0].type.name,favor:e.favor},t)}))});var e}():Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:A,alt:"loading"})}),"All"===g.filter&&Object(m.jsx)("div",{className:"download",ref:c,children:Object(m.jsx)("span",{className:g.inputValue?"disable":"active",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})]})})),P=Object(b.a)((function(e){var t=e.id,i=e.name,a=e.image,n=e.type,c=e.ability,s=e.abilityDescr,r=e.favorites;e.allDescr;return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:p.mobileState?"view-description__mobile":"view-description",children:[Object(m.jsx)("div",{className:"view-description__name",children:i}),Object(m.jsx)("div",{className:"view-description__image",children:Object(m.jsx)("img",{src:a,alt:""})}),Object(m.jsxs)("div",{className:"view-description__type",children:["Class:",n]}),Object(m.jsxs)("div",{className:"view-description__ability",children:["Ability: ",Object(m.jsx)("span",{children:c})]}),Object(m.jsxs)("div",{className:"view-description__abilityDescr",children:[" ",s]}),Object(m.jsxs)("div",{className:"view-description__heart",children:[Object(m.jsx)("div",{onClick:function(){return function(e){if(e)r((function(e){return[].concat(Object(S.a)(e),[{id:t,name:i,image:a,type:n,favor:!0,ability:c,abilityDescr:s}])})),y.heartDisable();else{var o=JSON.parse(localStorage.getItem("poki"));o.forEach((function(e,i){e.id===t&&o.splice(i,1)})),r(o),y.heartActive(),C.falseFavor(t)}}(y.heart)},children:Object(m.jsx)("img",{className:y.heart?"view-description__heart--noactive":"view-description__heart--active",src:v,alt:"heart",onClick:function(){C.trueFavor(t)}})}),Object(m.jsx)("div",{className:"view-description__back",children:Object(m.jsx)("span",{onClick:function(){p.disableMobile()},children:"\u041d\u0430\u0437\u0430\u0434"})})]})]})})})),M=i.p+"static/media/emptyDescr.400e7447.png",V=Object(b.a)((function(e){var t=e.favorites;return Object(m.jsx)("div",{className:"view",children:0===D.loading?Object(m.jsxs)("div",{className:"view-emptyDescr",children:[Object(m.jsx)("img",{src:M,alt:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(m.jsx)("div",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"})]}):2===D.loading?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(P,{favorites:t,allDescr:D.mobileState,ability:D.mobileState.abilities[0].ability.name,abilityDescr:D.mobileState.abildesr[1].effect,id:D.mobileState.id,name:D.mobileState.name,image:D.mobileState.sprites.other.dream_world.front_default,type:D.mobileState.types[0].type.name})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(P,{favorites:t,allDescr:D.mobileState[0],ability:D.mobileState[0].ability,abilityDescr:D.mobileState[0].abilityDescr,id:D.mobileState[0].id,name:D.mobileState[0].name,image:D.mobileState[0].image,type:D.mobileState[0].type})})})})),J=function(e,t){var i=Object(a.useState)((function(){try{var i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(a){return console.log(a),t}})),n=Object(r.a)(i,2),c=n[0],s=n[1];return[c,function(t){try{var i=t instanceof Function?t(c):t;s(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(a){console.log(a)}}]},E=Object(b.a)((function(){var e=J("poki",[]),t=Object(r.a)(e,2),i=t[0],a=t[1];return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(f,{}),Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(k,{itemClass:["grass","normal","fire","water","bug"],itemAbility:["overgroth","blaze","shield-dust","shed-skin","compound-eyes","swarm","keen-eye","run-away","torrent"]}),Object(m.jsx)(I,{favorites:i}),Object(m.jsx)(V,{favorites:a})]})]})})),L=Object(b.a)((function(){return function(){var e=JSON.parse(localStorage.getItem("poki")),t=[];e&&(e.forEach((function(e,i){t[i]=e.id})),C.pokemons.forEach((function(e,i){t.includes(e.id)&&C.trueFavor(i+1)})))}(),Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(E,{})})}));s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.beea5f1d.chunk.js.map