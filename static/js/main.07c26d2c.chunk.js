(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{18:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);var a=i(2),c=i.n(a),n=i(9),s=i.n(n),r=(i(18),i(6)),o=i.p+"static/media/logo.0444b39a.png",l=i.p+"static/media/ball-1.49e2fb42.png",b=i(5),u=i(3),j=i(4),h=i(1),d=new(function(){function e(){Object(u.a)(this,e),this.burgerState=!1,Object(h.e)(this,{burgerState:h.g,setReverseState:h.b})}return Object(j.a)(e,[{key:"setReverseState",value:function(){this.burgerState=!this.burgerState}}]),e}()),f=i(0),m=Object(b.a)((function(){return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("div",{className:"header-logo_ball",children:Object(f.jsx)("img",{src:l,alt:"ball"})}),Object(f.jsx)("div",{className:"header-logo__pokeman",children:Object(f.jsx)("img",{src:o,alt:"pokemon",onClick:function(){return window.location.reload()}})}),Object(f.jsx)("div",{className:"burger-menu",children:Object(f.jsx)("span",{})}),Object(f.jsx)("div",{className:"burger-menu",onClick:function(){d.setReverseState()},children:Object(f.jsx)("span",{})})]})})),v=i.p+"static/media/Heart1.c0316ea0.png",O=new(function(){function e(){Object(u.a)(this,e),this.mobileState=!1,Object(h.e)(this,{mobileState:h.g,setReverseState:h.b,activeMobile:h.b,disableMobile:h.b})}return Object(j.a)(e,[{key:"setReverseState",value:function(){this.mobileState=!this.mobileState}},{key:"activeMobile",value:function(){this.mobileState=!0}},{key:"disableMobile",value:function(){this.mobileState=!1}}]),e}()),p=new(function(){function e(){Object(u.a)(this,e),this.favorState=!1,Object(h.e)(this,{favorState:h.g,favorActive:h.b,favorDisable:h.b})}return Object(j.a)(e,[{key:"favorActive",value:function(){this.favorState=!0}},{key:"favorDisable",value:function(){this.favorState=!1}}]),e}()),g=new(function(){function e(){Object(u.a)(this,e),this.filter="All",Object(h.e)(this,{filter:h.g,setFilter:h.b})}return Object(j.a)(e,[{key:"setFilter",value:function(e){this.filter=e}}]),e}()),x=Object(b.a)((function(e){var t=e.itemClass,i=e.itemAbility,a=c.a.useState(!1),n=Object(r.a)(a,2),s=n[0],o=n[1],l=c.a.useState(!1),b=Object(r.a)(l,2),u=b[0],j=b[1];return Object(f.jsxs)("div",{className:d.burgerState?"categories active":"categories",children:[Object(f.jsxs)("div",{className:"categories-favorites__wrapper",onClick:function(){p.favorActive(),g.setFilter("")},children:[Object(f.jsx)("img",{className:"categories-img",src:v,alt:"heart"}),Object(f.jsx)("div",{className:"categories-favorites",onClick:function(){d.burgerState=!1,O.disableMobile()},children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),Object(f.jsx)("div",{className:"title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(f.jsxs)("ul",{className:"categoriesList",children:[Object(f.jsx)("li",{onClick:function(){g.setFilter("All"),p.favorDisable(),d.burgerState=!1,O.disableMobile()},children:"\u0412\u0441\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u044b"}),Object(f.jsxs)("li",{onClick:function(){return o(!s)},children:["\u041a\u043b\u0430\u0441\u0441\u044b",s&&Object(f.jsx)("ul",{children:t.map((function(e,t){return Object(f.jsx)("li",{onClick:function(){g.setFilter("".concat(e)),p.favorDisable(),d.burgerState=!1,O.disableMobile()},children:e},"".concat(e,"_").concat(t))}))})]}),Object(f.jsxs)("li",{onClick:function(){return j(!u)},children:["C\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438",u&&Object(f.jsx)("ul",{children:i.map((function(e,t){return Object(f.jsx)("li",{onClick:function(){g.setFilter("".concat(e)),p.favorDisable(),d.burgerState=!1,O.disableMobile()},children:e},"".concat(e,"_").concat(t))}))})]})]})]})})),k=new(function(){function e(){Object(u.a)(this,e),this.idPoki=0,this.pokifavor=!1,Object(h.e)(this,{idPoki:h.g,setIdPoki:h.b})}return Object(j.a)(e,[{key:"setIdPoki",value:function(e,t){this.idPoki=e,this.pokifavor=t}}]),e}()),S=new(function(){function e(){Object(u.a)(this,e),this.heart=!0,Object(h.e)(this,{heart:h.g,heartActive:h.b,heartDisable:h.b})}return Object(j.a)(e,[{key:"heartActive",value:function(){this.heart=!0}},{key:"heartDisable",value:function(){this.heart=!1}}]),e}()),y=i(11),w=i(8),N=i.n(w),_=i(13),C=new(function(){function e(){Object(u.a)(this,e),this.api="https://pokeapi.co/api/v2/pokemon?limit=20",this.count=[],Object(h.e)(this,{count:h.g,getPoki:h.b,falseFavor:h.b,trueFavor:h.b})}return Object(j.a)(e,[{key:"getPoki",value:function(){var e=Object(_.a)(N.a.mark((function e(){var t,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.api);case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,this.api=i.next,this.createPokemonObject([]),this.createPokemonObject.call(this,i.results);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createPokemonObject",value:function(e){var t=this;e.forEach(function(){var e=Object(_.a)(N.a.mark((function e(i){var a,c,n,s,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokemon/".concat(i.name));case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.next=8,fetch("https://pokeapi.co/api/v2/ability/".concat(c.abilities[0].ability.name));case 8:return n=e.sent,e.next=11,n.json();case 11:s=e.sent,r=s.effect_entries,c.abildesr=r,Object(h.h)((function(){t.count=[].concat(Object(y.a)(t.count),[c]),t.count.sort((function(e,t){return e.id-t.id}))}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"falseFavor",value:function(e){e<this.count.length&&(this.count[e-1].favor=!1)}},{key:"trueFavor",value:function(e){e<this.count.length&&(this.count[e-1].favor=!0)}}]),e}()),D=new(function(){function e(){Object(u.a)(this,e),this.loading=0,this.mobileState=C.count[0],this.favorOrNot=!1,Object(h.e)(this,{mobileState:h.g,loading:h.g,checkLocal:h.b})}return Object(j.a)(e,[{key:"checkLocal",value:function(){if(k.pokifavor){var e=JSON.parse(localStorage.getItem("poki")).filter((function(e){return e.id===k.idPoki})),t=e;this.mobileState=e,console.log(t),this.loading=1}else this.mobileState=C.count[k.idPoki-1],this.loading=2}}]),e}()),F=Object(b.a)((function(e){var t=e.id,i=e.name,a=e.type,c=e.image,n=e.favor;return Object(f.jsxs)("button",{className:"pokemon-cart",onClick:function(){k.setIdPoki(t,n),O.activeMobile(),D.checkLocal(),n?S.heartDisable():S.heartActive()},children:[Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["\u2116",t]})}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:c,alt:"pokemon"})}),Object(f.jsx)("div",{children:Object(f.jsxs)("strong",{className:"pokemon-cart__name",children:[" ",i]})}),Object(f.jsxs)("div",{children:["Class: ",a]}),n&&Object(f.jsx)("div",{className:"pokemon-cart__heart ",children:Object(f.jsx)("img",{src:v,alt:"like"})})]})})),A=i.p+"static/media/loader.f67880ae.svg",P=Object(b.a)((function(e){var t=e.pokemonsList,i=e.favorites,a=c.a.useState(""),n=Object(r.a)(a,2),s=n[0],o=n[1],l=c.a.useState(["name"]),b=Object(r.a)(l,1)[0],u=c.a.useRef();function j(e){return e.filter((function(e){return e.types[0].type.name===g.filter||e.abilities[0].ability.name===g.filter||"All"===g.filter?b.some((function(t){return e[t].toString().toLowerCase().indexOf(s.toLowerCase())>-1})):void 0}))}return c.a.useEffect((function(){"All"===g.filter&&new IntersectionObserver((function(e){"All"===g.filter&&e[0].isIntersecting&&C.getPoki()}),{threshold:1}).observe(u.current)}),[g.filter]),Object(f.jsxs)("div",{className:O.mobileState?"selectItems mobile":"selectItems",children:[Object(f.jsx)("div",{className:"search-wrapper",children:Object(f.jsx)("label",{htmlFor:"search-form",children:Object(f.jsx)("input",{type:"search",name:"search-form",id:"search-form",className:"search-input",placeholder:"Search for...",value:s,onChange:function(e){return o(e.target.value)}})})}),C.count.length>=19?p.favorState?i.length>0?i.map((function(e,t){return Object(f.jsx)(F,{id:e.id,name:e.name,image:e.image,type:e.type,favor:e.favor},t)})):Object(f.jsx)("div",{children:" \u0423 \u0432\u0430\u0441 \u0442\u0443\u0442 \u043f\u0443\u0441\u0442\u043e "}):Object(f.jsx)(f.Fragment,{children:j(t).map((function(e,t){return Object(f.jsx)(F,{id:e.id,name:e.name,image:e.sprites.other.dream_world.front_default,type:e.types[0].type.name,favor:e.favor},t)}))}):Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:A,alt:"loading"})}),"All"===g.filter&&Object(f.jsx)("div",{className:"download",ref:u,children:Object(f.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})]})})),I=Object(b.a)((function(e){var t=e.id,i=e.name,a=e.image,c=e.type,n=e.ability,s=e.abilityDescr,r=e.favorites,o=e.allDescr;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:O.mobileState?"view-description__mobile":"view-description",children:[Object(f.jsx)("div",{className:"view-description__name",children:i}),Object(f.jsx)("div",{className:"view-description__image",children:Object(f.jsx)("img",{src:a,alt:""})}),Object(f.jsxs)("div",{className:"view-description__type",children:["Class:",c]}),Object(f.jsxs)("div",{className:"view-description__ability",children:["Ability: ",Object(f.jsx)("span",{children:n})]}),Object(f.jsxs)("div",{className:"view-description__abilityDescr",children:[" ",s]}),Object(f.jsxs)("div",{className:"view-description__heart",children:[Object(f.jsx)("div",{onClick:function(){return function(e){if(e)r((function(e){return[].concat(Object(y.a)(e),[{id:t,name:i,image:a,type:c,favor:!0,ability:n,abilityDescr:s}])})),S.heartDisable();else{var o=JSON.parse(localStorage.getItem("poki"));o.forEach((function(e,i){e.id===t&&o.splice(i,1)})),r(o),S.heartActive(),C.falseFavor(t)}}(S.heart)},children:Object(f.jsx)("img",{className:o.favor?"view-description__heart--active":"view-description__heart--noactive",src:v,alt:"heart",onClick:function(){o.favor=!o.favor,C.trueFavor(t)}})}),Object(f.jsx)("div",{className:"view-description__back",children:Object(f.jsx)("span",{onClick:function(){O.disableMobile()},children:"\u041d\u0430\u0437\u0430\u0434"})})]})]})})})),M=Object(b.a)((function(e){var t=e.pokiDescription,i=e.favorites;return Object(f.jsx)("div",{className:"view",children:0===t?Object(f.jsx)("div",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430"}):2===t?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(I,{favorites:i,allDescr:D.mobileState,ability:D.mobileState.abilities[0].ability.name,abilityDescr:D.mobileState.abildesr[1].effect,id:D.mobileState.id,name:D.mobileState.name,image:D.mobileState.sprites.other.dream_world.front_default,type:D.mobileState.types[0].type.name})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(I,{favorites:i,allDescr:D.mobileState[0],ability:D.mobileState[0].ability,abilityDescr:D.mobileState[0].abilityDescr,id:D.mobileState[0].id,name:D.mobileState[0].name,image:D.mobileState[0].image,type:D.mobileState[0].type})})})})),L=function(e,t){var i=Object(a.useState)((function(){try{var i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(a){return console.log(a),t}})),c=Object(r.a)(i,2),n=c[0],s=c[1];return[n,function(t){try{var i=t instanceof Function?t(n):t;s(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(a){console.log(a)}}]},J=Object(b.a)((function(e){var t=e.pokemonsList,i=L("poki",[]),a=Object(r.a)(i,2),c=a[0],n=a[1];return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(m,{}),Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(x,{itemClass:["grass","normal","fire","water","bug"],itemAbility:["overgroth","blaze","shield-dust","shed-skin","compound-eyes","swarm","keen-eye","run-away","torrent"]}),Object(f.jsx)(P,{pokemonsList:t,favorites:c}),Object(f.jsx)(M,{pokiDescription:D.loading,favorites:n})]})]})})),E=Object(b.a)((function(){return function(){var e=JSON.parse(localStorage.getItem("poki")),t=[];e&&(e.forEach((function(e,i){t[i]=e.id})),C.count.forEach((function(e,i){t.includes(e.id)&&C.trueFavor(i+1)})))}(),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(J,{pokemonsList:C.count})})}));s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.07c26d2c.chunk.js.map